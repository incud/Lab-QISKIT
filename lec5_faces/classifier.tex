\begin{quantikz}[]
    \lstick{\(\ket{0}_a\)}\qw
        & \gate{H}
        & \ctrl{2}
        & \gate{X}
        & \ctrl{2}
        & \qw
        & \ctrl{2}
        & \gate{H}
        & \meter{\text{discard }1}
        & \cwbend{3}
        & \cw \rstick{a} \\
    \lstick{\(\ket{0}_i\)}\qw
        & \gate{H}
        & \qw
        & \qw
        & \ctrl{1}
        & \gate{X}
        & \ctrl{1} 
        & \ctrl{2}
        & \qw
        & \qw & \qw \\
    \lstick{\(\ket{0\cdots 00}_g\)}\qw
        & \qw
        & \gate{\mathbf{G_\text{\textbf test}}}
        & \qw
        & \gate{\mathbf{G^{\{1\}}}}
        & \qw
        & \gate{\mathbf{G^{\{2\}}}}
        & \qw
        & \qw
        & \qw & \qw \\
    \lstick{\(\ket{0}_c\)}\qw
        & \qw
        & \qw
        & \qw
        & \qw
        & \qw
        & \qw
        & \targ{}
        & \qw
        & \meter{}
        & \cw\rstick{c}
\end{quantikz}